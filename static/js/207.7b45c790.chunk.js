"use strict";(self.webpackChunkgame_arcade=self.webpackChunkgame_arcade||[]).push([[207,870],{50207:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(65043),r=(s(15870),s(70579));const n=e=>[...e].sort((()=>Math.random()-.5)),c=()=>{const[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(0),[o,l]=(0,a.useState)([]),[i,u]=(0,a.useState)(80),[d,h]=(0,a.useState)(""),[m,w]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),[p,v]=(0,a.useState)(0),[x,j]=(0,a.useState)(0);(0,a.useEffect)((()=>{m&&_()}),[m]),(0,a.useEffect)((()=>{e.length>0&&s<e.length&&(l(n([...e[s].incorrect_answers,e[s].correct_answer])),S(),h(""))}),[s,e,m]),(0,a.useEffect)((()=>{let e;return!f&&m&&(e=setInterval((()=>{u((e=>Math.max(0,e-1)))}),100),0===i&&(clearInterval(e),b())),()=>clearInterval(e)}),[i,m,f]);const _=async()=>{const e=await fetch("https://opentdb.com/api.php?amount=50&difficulty=easy&type=multiple"),s=await e.json();0===s.response_code&&Array.isArray(s.results)&&t(s.results.map((e=>({...e,answers:n([e.correct_answer,...e.incorrect_answers])}))))},S=()=>{u(80),g(!1)},b=()=>{var t;f||(h("Time's up! The correct answer was: ".concat(null===(t=e[s])||void 0===t?void 0:t.correct_answer)),j((e=>e+1)),g(!0),setTimeout((()=>{y()}),5e3))},y=()=>{s<e.length-1?(c((e=>e+1)),S()):(h("You've reached the end of the quiz!"),w(!1))};return(0,r.jsx)("div",{className:"game-box",children:m?(0,r.jsx)(r.Fragment,{children:e.length>0&&s<e.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"question",dangerouslySetInnerHTML:{__html:e[s].question}}),(0,r.jsx)("div",{className:"answers",children:o.map(((t,a)=>(0,r.jsx)("button",{className:"answer-button",onClick:()=>(t=>{if(!f){const a=t===e[s].correct_answer;h(a?"Correct!":"Wrong! The correct answer was: ".concat(e[s].correct_answer)),a?v((e=>e+1)):j((e=>e+1)),g(!0),setTimeout((()=>{y()}),5e3)}})(t),dangerouslySetInnerHTML:{__html:t}},a)))}),(0,r.jsx)("div",{className:"feedback",style:{opacity:d?1:0},children:d}),(0,r.jsx)("div",{className:"time-bar",style:{width:"".concat(i,"%")}}),(0,r.jsxs)("div",{className:"scoreboard",children:["Correct: ",p," | Incorrect: ",x]})]}):(0,r.jsx)("div",{children:"Loading questions..."})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"TRIVIA"}),(0,r.jsx)("button",{className:"start-button",onClick:()=>{w(!0),v(0),j(0),S()},children:"Start Game"})]})})}},15870:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});const a={}}}]);
//# sourceMappingURL=207.7b45c790.chunk.js.map